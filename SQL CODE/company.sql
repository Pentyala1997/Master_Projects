CREATE TABLE DEPARTMENT(
DNUMBER NUMBER(2) NOT NULL,
DNAME VARCHAR(50) NOT NULL,
MGRSSN NUMBER(9)NOT NULL,
MGRSTARTDATE DATE NOT NULL,
CONSTRAINT DEPT_DNUM_PK PRIMARY KEY (DNUMBER));


CREATE TABLE EMPLOYEE(
SSN NUMBER (9) NOT NULL,
FNAME VARCHAR(25) NOT NULL,
MINIT VARCHAR(1),
LNAME VARCHAR(25) NOT NULL,
BDATE DATE NOT NULL,
ADDRESS VARCHAR(150) NOT NULL,
SEX VARCHAR(1) NOT NULL,
SALARY FLOAT,
SUPERSSN NUMBER(9),
DNO NUMBER(2) NOT NULL,
CONSTRAINT EMP_SSN_PK PRIMARY KEY(SSN),
CONSTRAINT EMP_DNO_FK FOREIGN KEY (DNO) REFERENCES DEPARTMENT(DNUMBER));

CREATE TABLE DEPENDENT(
ESSN NUMBER(9) NOT NULL,
DEPENDENT_NAME VARCHAR(50) NOT NULL,
SEX VARCHAR(1) NOT NULL,
BDATE DATE NOT NULL,
RELATIONSHIP VARCHAR(15) NOT NULL,
CONSTRAINT DEP_ESSN_NAME_PK PRIMARY KEY(ESSN, DEPENDENT_NAME),
CONSTRAINT DEP_ESSN_FK FOREIGN KEY (ESSN) REFERENCES EMPLOYEE(SSN));


CREATE TABLE DEPT_LOCATIONS(
DNUMBER NUMBER(2) NOT NULL,
DLOCATION VARCHAR(50) NOT NULL,
CONSTRAINT DEPTLOC_DNUM_DLOC_PK PRIMARY KEY(DNUMBER, DLOCATION),
CONSTRAINT DEPTLOC_DNUM_FK FOREIGN KEY (DNUMBER) REFERENCES DEPARTMENT(DNUMBER));




CREATE TABLE PROJECT(
PNUMBER NUMBER(3) NOT NULL,
PNAME VARCHAR(25) NOT NULL,
PLOCATION VARCHAR(50),
DNUM NUMBER(2) NOT NULL,
CONSTRAINT PROJ_PNUM_PK PRIMARY KEY (PNUMBER) ,
CONSTRAINT PROJ_DNUM_FK FOREIGN KEY (DNUM) REFERENCES DEPARTMENT(DNUMBER));


CREATE TABLE WORKS_ON(
ESSN NUMBER(9) NOT NULL,
PNO NUMBER(3) NOT NULL,
DNUM FLOAT,
CONSTRAINT WRK_ESSN_PNO_PK PRIMARY KEY (ESSN, PNO),
CONSTRAINT WRK_ESSN_FK FOREIGN KEY (ESSN) REFERENCES EMPLOYEE(SSN),
CONSTRAINT WRK_PNO_FK FOREIGN KEY (PNO) REFERENCES PROJECT(PNUMBER));

CREATE INDEX DEPTLOC_DNUM_IDX ON DEPT_LOCATIONS(DNUMBER);
CREATE INDEX PROJ_DNUM_IDX ON PROJECT(DNUM);
CREATE INDEX EMP_DNO_IDX ON EMPLOYEE(DNO);
CREATE INDEX DEP_ESSN_IDX ON DEPENDENT(ESSN);
CREATE INDEX WRK_ESSN_IDX ON WORKS_ON(ESSN);
CREATE INDEX WRK_PNO_IDX ON WORKS_ON(PNO);

grant select on DEPARTMENT to public;
grant select on EMPLOYEE to public;
grant select on DEPENDENT to public;
grant select on DEPT_LOCATIONS to public;
grant select on PROJECT to public;
grant select on WORKS_ON to public;



INSERT INTO DEPARTMENT VALUES 
(1,'Headquarters',888665555,'19-Jun-1971');
INSERT INTO DEPARTMENT VALUES 
(4,'Administration',987654321,'1-Jan-1985');
INSERT INTO DEPARTMENT VALUES 
(5,'Research',333445555,'22-May-1978');


INSERT INTO EMPLOYEE VALUES 
(123456789,'John','B','Smith','09-Jan-55','731 Fondren, Houston, TX','M',30000,333445555,5);
INSERT INTO EMPLOYEE VALUES 
(333445555,'Franklin','T','Wong','08-Dec-45','638 Voss, Houston, TX','M',40000,888665555,5);
INSERT INTO EMPLOYEE VALUES 
(453453453,'Joyce','A','English','31-Jul-62','5631 Rice, Houston, TX','F',25000,333445555,5);
INSERT INTO EMPLOYEE VALUES 
(666884444,'Ramesh','K','Narayan','15-Sep-52','975 Fire Oak, Humble, TX','M',38000,333445555,5);
INSERT INTO EMPLOYEE VALUES 
(888665555,'James','E','Borg','10-Nov-27','450 Stone, Houston, TX','M',55000,null,1);
INSERT INTO EMPLOYEE VALUES 
(987654321,'Jennifer','S','Wallace','20-Jun-31','291 Berry, Bellaire, TX','F',43000,888665555,4);
INSERT INTO EMPLOYEE VALUES 
(987987987,'Ahmad','V','Jabbar','29-Mar-59','980 Dallas, Houston, TX','M',25000,987654321,4);
INSERT INTO EMPLOYEE VALUES 
(999887777,'Alicia','J','Zelaya','19-Jul-58','3321 Castle, Spring, TX','F',25000,987654321,4);

INSERT INTO DEPENDENT VALUES
(123456789,'Alice','F','31-Dec-78','DAUGHTER');
INSERT INTO DEPENDENT VALUES
(123456789,'Elizabeth','F','5-May-57','SPOUSE');
INSERT INTO DEPENDENT VALUES
(123456789,'Michael','M','1-Jan-78','SON');
INSERT INTO DEPENDENT VALUES
(333445555,'Alice','F','5-Apr-76','DAUGHTER');
INSERT INTO DEPENDENT VALUES
(333445555,'Joy','F','3-May-48','SPOUSE');
INSERT INTO DEPENDENT VALUES
(333445555,'Theodore','M','25-Oct-73','SON');
INSERT INTO DEPENDENT VALUES
(987654321,'Abner','M','29-Feb-32','SPOUSE');

INSERT INTO DEPT_LOCATIONS VALUES(1,'Houston');
INSERT INTO DEPT_LOCATIONS VALUES(4,'Stafford');
INSERT INTO DEPT_LOCATIONS VALUES(5,'Bellaire');
INSERT INTO DEPT_LOCATIONS VALUES(5,'Houston');
INSERT INTO DEPT_LOCATIONS VALUES(5,'Sugarland');


INSERT INTO PROJECT VALUES(1,'ProductX','Bellaire',5);
INSERT INTO PROJECT VALUES(2,'ProductY','Sugarland',5);
INSERT INTO PROJECT VALUES(3,'ProductZ','Houston',5);
INSERT INTO PROJECT VALUES(10,'Computerization','Stafford',4);
INSERT INTO PROJECT VALUES(20,'Reorganization','Houston',1);
INSERT INTO PROJECT VALUES(30,'Newbenefits','Stafford',4);

INSERT INTO WORKS_ON VALUES (123456789,1,32.5);
INSERT INTO WORKS_ON VALUES (123456789,2,7.5);
INSERT INTO WORKS_ON VALUES (333445555,2,10);
INSERT INTO WORKS_ON VALUES (333445555,3,10);
INSERT INTO WORKS_ON VALUES (333445555,10,10);
INSERT INTO WORKS_ON VALUES (333445555,20,10);
INSERT INTO WORKS_ON VALUES (453453453,1,20);
INSERT INTO WORKS_ON VALUES (453453453,2,20);
INSERT INTO WORKS_ON VALUES (666884444,3,40);
INSERT INTO WORKS_ON VALUES (888665555,20,0);
INSERT INTO WORKS_ON VALUES (987654321,20,15);
INSERT INTO WORKS_ON VALUES (987654321,30,20);
INSERT INTO WORKS_ON VALUES (987987987,10,35);
INSERT INTO WORKS_ON VALUES (987987987,30,5);
INSERT INTO WORKS_ON VALUES (999887777,10,10);
INSERT INTO WORKS_ON VALUES (999887777,30,30);


select table_name from all_tables where owner ='COMPANY'